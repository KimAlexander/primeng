{"version":3,"sources":["ng://primeng/dropdown/dropdown.ts"],"names":["DROPDOWN_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","Dropdown","multi","DropdownItem","this","onClick","EventEmitter","prototype","onOptionClick","event","emit","originalEvent","option","__decorate","Input","Output","Component","selector","template","el","renderer","cd","zone","scrollHeight","filterBy","resetFilterOnHide","dropdownIcon","autoDisplayFirst","emptyFilterMessage","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","filterMatchMode","tooltip","tooltipPosition","tooltipPositionStyle","autofocusFilter","onChange","onFocus","onBlur","onShow","onHide","onModelChange","onModelTouched","viewPortOffsetTop","Object","defineProperty","_disabled","focused","destroyed","detectChanges","ngAfterContentInit","_this","templates","forEach","item","getType","itemTemplate","selectedItemTemplate","groupTemplate","ngOnInit","optionsToDisplay","options","updateSelectedOption","_options","val","opts","optionLabel","ObjectUtils","generateSelectItems","value","optionsChanged","updateFilledState","filterValue","length","activateFilter","ngAfterViewInit","editable","updateEditableLabel","selectedOption","label","editableInputViewChild","nativeElement","onItemClick","itemClick","disabled","selectItem","focusViewChild","focus","setTimeout","hide","filled","virtualScroll","viewPort","measureScrollOffset","ngAfterViewChecked","overlayVisible","updateVirtualScrollSelectedIndex","runOutsideAngular","alignOverlay","selectedOptionUpdated","itemsWrapper","range","getRenderedRange","start","virtualScrollSelectedIndex","end","scrollToIndex","DomHandler","findSingle","overlay","scrollInView","writeValue","filter","resetFilter","markForCheck","filterViewChild","findOption","placeholder","registerOnChange","fn","registerOnTouched","setDisabledState","onMouseclick","readonly","selfClick","clearClick","hasClass","target","show","onEditableInputClick","bindDocumentClickListener","onEditableInputFocus","onEditableInputChange","onOverlayAnimationStart","toState","element","itemsWrapperSelector","appendOverlay","style","zIndex","String","zindex","bindDocumentResizeListener","selectedListItem","preventModelTouched","onOverlayHide","scrollToSelectedVirtualScrollElement","virtualAutoScrolled","scrollToOffset","resetOffset","findOptionIndex","appendTo","document","body","appendChild","minWidth","getWidth","containerViewChild","restoreOverlayAppend","absolutePosition","relativePosition","onInputFocus","onInputBlur","findPrevEnabledOption","index","prevEnabledOption","i","findNextEnabledOption","nextEnabledOption","onKeydown","search","which","altKey","group","selectedItemIndex","findOptionGroupIndex","nextItemIndex","itemIndex","groupIndex","items","preventDefault","prevItemIndex","prevGroup","searchTimeout","clearTimeout","newOption","char","key","previousSearchChar","currentSearchChar","searchValue","searchIndex","searchOptionWithinGroup","searchOption","searchOptionInRange","opt","toLocaleLowerCase","filterLocale","startsWith","j","equals","dataKey","inGroup","opts_1","__values","opts_1_1","next","done","optgroup","onFilter","inputValue","searchFields","split","filteredGroups","_b","_c","filteredSubOptions","FilterUtils","push","applyFocus","documentClickListener","listen","unbindDocumentClickListener","clearClickState","documentResizeListener","onWindowResize","bind","window","addEventListener","unbindDocumentResizeListener","removeEventListener","isAndroid","clear","ngOnDestroy","ElementRef","Renderer2","ChangeDetectorRef","NgZone","ViewChild","CdkVirtualScrollViewport","ContentChildren","PrimeTemplate","animations","trigger","state","transform","opacity","transition","animate","host","[class.ui-inputwrapper-filled]","[class.ui-inputwrapper-focus]","providers","changeDetection","ChangeDetectionStrategy","Default","DropdownModule","NgModule","imports","CommonModule","SharedModule","ScrollingModule","TooltipModule","exports","declarations"],"mappings":"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","sourcesContent":["import {ScrollingModule, CdkVirtualScrollViewport} from '@angular/cdk/scrolling';\r\nimport {NgModule,Component,ElementRef,OnInit,AfterViewInit,AfterContentInit,AfterViewChecked,OnDestroy,Input,Output,Renderer2,EventEmitter,ContentChildren,\r\n        QueryList,ViewChild,TemplateRef,forwardRef,ChangeDetectorRef,NgZone,ViewRef,ChangeDetectionStrategy} from '@angular/core';\r\nimport {trigger,state,style,transition,animate,AnimationEvent} from '@angular/animations';\r\nimport {CommonModule} from '@angular/common';\r\nimport {SelectItem} from 'primeng/api';\r\nimport {SharedModule,PrimeTemplate} from 'primeng/api';\r\nimport {DomHandler} from 'primeng/dom';\r\nimport {ObjectUtils} from 'primeng/utils';\r\nimport {NG_VALUE_ACCESSOR, ControlValueAccessor} from '@angular/forms';\r\nimport { FilterUtils } from 'primeng/utils';\r\nimport {TooltipModule} from 'primeng/tooltip';\r\n\r\nexport const DROPDOWN_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => Dropdown),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n    selector: 'p-dropdownItem',\r\n    template: `\r\n        <li (click)=\"onOptionClick($event)\" role=\"option\"\r\n            [attr.aria-label]=\"option.label\" [attr.aria-selected]=\"selected\"\r\n            [ngStyle]=\"{'height': itemSize + 'px'}\"\r\n            [ngClass]=\"{'ui-dropdown-item ui-corner-all':true,\r\n                                                'ui-state-highlight': selected,\r\n                                                'ui-state-disabled':(option.disabled),\r\n                                                'ui-dropdown-item-empty': !option.label||option.label.length === 0}\">\r\n            <span *ngIf=\"!template\">{{option.label||'empty'}}</span>\r\n            <ng-container *ngTemplateOutlet=\"template; context: {$implicit: option}\"></ng-container>\r\n        </li>\r\n    `\r\n})\r\nexport class DropdownItem {\r\n\r\n    @Input() option: SelectItem;\r\n\r\n    @Input() selected: boolean;\r\n\r\n    @Input() disabled: boolean;\r\n\r\n    @Input() visible: boolean;\r\n\r\n    @Input() itemSize: number;\r\n\r\n    @Input() template: TemplateRef<any>;\r\n\r\n    @Output() onClick: EventEmitter<any> = new EventEmitter();\r\n\r\n    onOptionClick(event: Event) {\r\n        this.onClick.emit({\r\n            originalEvent: event,\r\n            option: this.option\r\n        });\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'p-dropdown',\r\n    template: `\r\n         <div #container [ngClass]=\"{'ui-dropdown ui-widget ui-state-default ui-corner-all':true,\r\n            'ui-state-disabled':disabled, 'ui-dropdown-open':overlayVisible, 'ui-state-focus':focused, 'ui-dropdown-clearable': showClear && !disabled}\"\r\n            (click)=\"onMouseclick($event)\" [ngStyle]=\"style\" [class]=\"styleClass\">\r\n            <div class=\"ui-helper-hidden-accessible\">\r\n                <input #in [attr.id]=\"inputId\" type=\"text\" [attr.aria-label]=\"selectedOption ? selectedOption.label : ' '\" readonly (focus)=\"onInputFocus($event)\" aria-haspopup=\"listbox\"\r\n                    aria-haspopup=\"listbox\" [attr.aria-expanded]=\"overlayVisible\" [attr.aria-labelledby]=\"ariaLabelledBy\" (blur)=\"onInputBlur($event)\" (keydown)=\"onKeydown($event, true)\"\r\n                    [disabled]=\"disabled\" [attr.tabindex]=\"tabindex\" [attr.autofocus]=\"autofocus\" role=\"listbox\">\r\n            </div>\r\n            <div class=\"ui-dropdown-label-container\" [pTooltip]=\"tooltip\" [tooltipPosition]=\"tooltipPosition\" [positionStyle]=\"tooltipPositionStyle\" [tooltipStyleClass]=\"tooltipStyleClass\">\r\n                <label [ngClass]=\"{'ui-dropdown-label ui-inputtext ui-corner-all':true,'ui-dropdown-label-empty':(label == null || label.length === 0)}\" *ngIf=\"!editable && (label != null)\">\r\n                    <ng-container *ngIf=\"!selectedItemTemplate\">{{label||'empty'}}</ng-container>\r\n                    <ng-container *ngTemplateOutlet=\"selectedItemTemplate; context: {$implicit: selectedOption}\"></ng-container>\r\n                </label>\r\n                <label [ngClass]=\"{'ui-dropdown-label ui-inputtext ui-corner-all ui-placeholder':true,'ui-dropdown-label-empty': (placeholder == null || placeholder.length === 0)}\" *ngIf=\"!editable && (label == null)\">{{placeholder||'empty'}}</label>\r\n                <input #editableInput type=\"text\" [attr.maxlength]=\"maxlength\" [attr.aria-label]=\"selectedOption ? selectedOption.label : ' '\" class=\"ui-dropdown-label ui-inputtext ui-corner-all\" *ngIf=\"editable\" [disabled]=\"disabled\" [attr.placeholder]=\"placeholder\"\r\n                    aria-haspopup=\"listbox\" [attr.aria-expanded]=\"overlayVisible\" (click)=\"onEditableInputClick($event)\" (input)=\"onEditableInputChange($event)\" (focus)=\"onEditableInputFocus($event)\" (blur)=\"onInputBlur($event)\">\r\n                <i class=\"ui-dropdown-clear-icon pi pi-times\" (click)=\"clear($event)\" *ngIf=\"value != null && showClear && !disabled\"></i>\r\n            </div>\r\n            <div class=\"ui-dropdown-trigger ui-state-default ui-corner-right\" role=\"button\" aria-haspopup=\"listbox\" [attr.aria-expanded]=\"overlayVisible\">\r\n                <span class=\"ui-dropdown-trigger-icon ui-clickable\" [ngClass]=\"dropdownIcon\"></span>\r\n            </div>\r\n            <div *ngIf=\"overlayVisible\" [ngClass]=\"'ui-dropdown-panel  ui-widget ui-widget-content ui-corner-all ui-shadow'\" [@overlayAnimation]=\"{value: 'visible', params: {showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}\" (@overlayAnimation.start)=\"onOverlayAnimationStart($event)\" [ngStyle]=\"panelStyle\" [class]=\"panelStyleClass\">\r\n                <div *ngIf=\"filter\" class=\"ui-dropdown-filter-container\" (click)=\"$event.stopPropagation()\">\r\n                    <input #filter type=\"text\" autocomplete=\"off\" [value]=\"filterValue||''\" class=\"ui-dropdown-filter ui-inputtext ui-widget ui-state-default ui-corner-all\" [attr.placeholder]=\"filterPlaceholder\"\r\n                    (keydown.enter)=\"$event.preventDefault()\" (keydown)=\"onKeydown($event, false)\" (input)=\"onFilter($event)\" [attr.aria-label]=\"ariaFilterLabel\">\r\n                    <span class=\"ui-dropdown-filter-icon pi pi-search\"></span>\r\n                </div>\r\n                <div class=\"ui-dropdown-items-wrapper\" [style.max-height]=\"virtualScroll ? 'auto' : (scrollHeight||'auto')\">\r\n                    <ul class=\"ui-dropdown-items ui-dropdown-list ui-widget-content ui-widget ui-corner-all ui-helper-reset\" role=\"listbox\">\r\n                        <ng-container *ngIf=\"group\">\r\n                            <ng-template ngFor let-optgroup [ngForOf]=\"optionsToDisplay\">\r\n                                <li class=\"ui-dropdown-item-group\">\r\n                                    <span *ngIf=\"!groupTemplate\">{{optgroup.label||'empty'}}</span>\r\n                                    <ng-container *ngTemplateOutlet=\"groupTemplate; context: {$implicit: optgroup}\"></ng-container>\r\n                                </li>\r\n                                <ng-container *ngTemplateOutlet=\"itemslist; context: {$implicit: optgroup.items, selectedOption: selectedOption}\"></ng-container>\r\n                            </ng-template>\r\n                        </ng-container>\r\n                        <ng-container *ngIf=\"!group\">\r\n                            <ng-container *ngTemplateOutlet=\"itemslist; context: {$implicit: optionsToDisplay, selectedOption: selectedOption}\"></ng-container>\r\n                        </ng-container>\r\n                        <ng-template #itemslist let-options let-selectedOption=\"selectedOption\">\r\n\r\n                            <ng-container *ngIf=\"!virtualScroll; else virtualScrollList\">\r\n                                <ng-template ngFor let-option let-i=\"index\" [ngForOf]=\"options\">\r\n                                    <p-dropdownItem [option]=\"option\" [selected]=\"selectedOption == option\"\r\n                                                    (onClick)=\"onItemClick($event)\"\r\n                                                    [template]=\"itemTemplate\"></p-dropdownItem>\r\n                                </ng-template>\r\n                            </ng-container>\r\n                            <ng-template #virtualScrollList>\r\n                                <cdk-virtual-scroll-viewport (scrolledIndexChange)=\"scrollToSelectedVirtualScrollElement()\" #viewport [ngStyle]=\"{'height': scrollHeight}\" [itemSize]=\"itemSize\" *ngIf=\"virtualScroll && optionsToDisplay && optionsToDisplay.length\">\r\n                                    <ng-container *cdkVirtualFor=\"let option of options; let i = index; let c = count; let f = first; let l = last; let e = even; let o = odd\">\r\n                                        <p-dropdownItem [option]=\"option\" [selected]=\"selectedOption == option\"\r\n                                                                   (onClick)=\"onItemClick($event)\"\r\n                                                                   [template]=\"itemTemplate\"></p-dropdownItem>\r\n                                    </ng-container>\r\n                                </cdk-virtual-scroll-viewport>\r\n                            </ng-template>\r\n                        </ng-template>\r\n                        <li *ngIf=\"filter && (!optionsToDisplay || (optionsToDisplay && optionsToDisplay.length === 0))\" class=\"ui-dropdown-empty-message\">{{emptyFilterMessage}}</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    animations: [\r\n        trigger('overlayAnimation', [\r\n            state('void', style({\r\n                transform: 'translateY(5%)',\r\n                opacity: 0\r\n            })),\r\n            state('visible', style({\r\n                transform: 'translateY(0)',\r\n                opacity: 1\r\n            })),\r\n            transition('void => visible', animate('{{showTransitionParams}}')),\r\n            transition('visible => void', animate('{{hideTransitionParams}}'))\r\n        ])\r\n    ],\r\n    host: {\r\n        '[class.ui-inputwrapper-filled]': 'filled',\r\n        '[class.ui-inputwrapper-focus]': 'focused'\r\n    },\r\n    providers: [DROPDOWN_VALUE_ACCESSOR],\r\n    changeDetection: ChangeDetectionStrategy.Default\r\n})\r\nexport class Dropdown implements OnInit,AfterViewInit,AfterContentInit,AfterViewChecked,OnDestroy,ControlValueAccessor {\r\n\r\n    @Input() scrollHeight: string = '200px';\r\n\r\n    @Input() filter: boolean;\r\n\r\n    @Input() name: string;\r\n\r\n    @Input() style: any;\r\n\r\n    @Input() panelStyle: any;\r\n\r\n    @Input() styleClass: string;\r\n\r\n    @Input() panelStyleClass: string;\r\n\r\n    @Input() readonly: boolean;\r\n\r\n    @Input() required: boolean;\r\n\r\n    @Input() editable: boolean;\r\n\r\n    @Input() appendTo: any;\r\n\r\n    @Input() tabindex: number;\r\n\r\n    @Input() placeholder: string;\r\n\r\n    @Input() filterPlaceholder: string;\r\n\r\n    @Input() filterLocale: string;\r\n\r\n    @Input() inputId: string;\r\n\r\n    @Input() selectId: string;\r\n\r\n    @Input() dataKey: string;\r\n\r\n    @Input() filterBy: string = 'label';\r\n\r\n    @Input() autofocus: boolean;\r\n\r\n    @Input() resetFilterOnHide: boolean = false;\r\n\r\n    @Input() dropdownIcon: string = 'pi pi-chevron-down';\r\n\r\n    @Input() optionLabel: string;\r\n\r\n    @Input() autoDisplayFirst: boolean = true;\r\n\r\n    @Input() group: boolean;\r\n\r\n    @Input() showClear: boolean;\r\n\r\n    @Input() emptyFilterMessage: string = 'No results found';\r\n\r\n    @Input() virtualScroll: boolean;\r\n\r\n    @Input() itemSize: number;\r\n\r\n    @Input() autoZIndex: boolean = true;\r\n\r\n    @Input() baseZIndex: number = 0;\r\n\r\n    @Input() showTransitionOptions: string = '225ms ease-out';\r\n\r\n    @Input() hideTransitionOptions: string = '195ms ease-in';\r\n\r\n    @Input() ariaFilterLabel: string;\r\n\r\n    @Input() ariaLabelledBy: string;\r\n\r\n    @Input() filterMatchMode: string = \"contains\";\r\n\r\n    @Input() maxlength: number;\r\n\r\n    @Input() tooltip: string = '';\r\n\r\n    @Input() tooltipPosition: string = 'right';\r\n\r\n    @Input() tooltipPositionStyle: string = 'absolute';\r\n\r\n    @Input() tooltipStyleClass: string;\r\n\r\n    @Input() autofocusFilter: boolean = true;\r\n\r\n    @Output() onChange: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onFocus: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onBlur: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onClick: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onShow: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output() onHide: EventEmitter<any> = new EventEmitter();\r\n\r\n    @ViewChild('container') containerViewChild: ElementRef;\r\n\r\n    @ViewChild('filter') filterViewChild: ElementRef;\r\n\r\n    @ViewChild('in') focusViewChild: ElementRef;\r\n\r\n    @ViewChild(CdkVirtualScrollViewport) viewPort: CdkVirtualScrollViewport;\r\n\r\n    @ViewChild('editableInput') editableInputViewChild: ElementRef;\r\n\r\n    @ContentChildren(PrimeTemplate) templates: QueryList<any>;\r\n\r\n    private _disabled: boolean;\r\n\r\n    @Input() get disabled(): boolean {\r\n        return this._disabled;\r\n    };\r\n\r\n    set disabled(_disabled: boolean) {\r\n        if (_disabled)\r\n            this.focused = false;\r\n\r\n        this._disabled = _disabled;\r\n        if (!(this.cd as ViewRef).destroyed) {\r\n            this.cd.detectChanges();\r\n        }\r\n    }\r\n\r\n    overlay: HTMLDivElement;\r\n\r\n    itemsWrapper: HTMLDivElement;\r\n\r\n    itemTemplate: TemplateRef<any>;\r\n\r\n    groupTemplate: TemplateRef<any>;\r\n\r\n    selectedItemTemplate: TemplateRef<any>;\r\n\r\n    selectedOption: any;\r\n\r\n    _options: any[];\r\n\r\n    value: any;\r\n\r\n    onModelChange: Function = () => {};\r\n\r\n    onModelTouched: Function = () => {};\r\n\r\n    optionsToDisplay: any[];\r\n\r\n    hover: boolean;\r\n\r\n    focused: boolean;\r\n\r\n    filled: boolean;\r\n\r\n    overlayVisible: boolean;\r\n\r\n    documentClickListener: any;\r\n\r\n    optionsChanged: boolean;\r\n\r\n    panel: HTMLDivElement;\r\n\r\n    dimensionsUpdated: boolean;\r\n\r\n    selfClick: boolean;\r\n\r\n    itemClick: boolean;\r\n\r\n    clearClick: boolean;\r\n\r\n    hoveredItem: any;\r\n\r\n    selectedOptionUpdated: boolean;\r\n\r\n    filterValue: string;\r\n\r\n    searchValue: string;\r\n\r\n    searchIndex: number;\r\n\r\n    searchTimeout: any;\r\n\r\n    previousSearchChar: string;\r\n\r\n    currentSearchChar: string;\r\n\r\n    documentResizeListener: any;\r\n\r\n    virtualAutoScrolled: boolean;\r\n\r\n    virtualScrollSelectedIndex: number;\r\n\r\n    viewPortOffsetTop: number = 0;\r\n\r\n    preventModelTouched: boolean;\r\n\r\n    constructor(public el: ElementRef, public renderer: Renderer2, private cd: ChangeDetectorRef, public zone: NgZone) {}\r\n\r\n    ngAfterContentInit() {\r\n        this.templates.forEach((item) => {\r\n            switch(item.getType()) {\r\n                case 'item':\r\n                    this.itemTemplate = item.template;\r\n                break;\r\n\r\n                case 'selectedItem':\r\n                    this.selectedItemTemplate = item.template;\r\n                break;\r\n\r\n                case 'group':\r\n                    this.groupTemplate = item.template;\r\n                break;\r\n\r\n                default:\r\n                    this.itemTemplate = item.template;\r\n                break;\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.optionsToDisplay = this.options;\r\n        this.updateSelectedOption(null);\r\n    }\r\n\r\n    @Input() get options(): any[] {\r\n        return this._options;\r\n    }\r\n\r\n    set options(val: any[]) {\r\n        let opts = this.optionLabel ? ObjectUtils.generateSelectItems(val, this.optionLabel) : val;\r\n        this._options = opts;\r\n        this.optionsToDisplay = this._options;\r\n        this.updateSelectedOption(this.value);\r\n        this.optionsChanged = true;\r\n        this.updateFilledState();\r\n\r\n        if (this.filterValue && this.filterValue.length) {\r\n            this.activateFilter();\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit()Â {\r\n        if (this.editable) {\r\n            this.updateEditableLabel();\r\n        }\r\n    }\r\n\r\n    get label(): string {\r\n        return (this.selectedOption ? this.selectedOption.label : null);\r\n    }\r\n\r\n    updateEditableLabel(): void {\r\n        if (this.editableInputViewChild && this.editableInputViewChild.nativeElement) {\r\n            this.editableInputViewChild.nativeElement.value = (this.selectedOption ? this.selectedOption.label : this.value||'');\r\n        }\r\n    }\r\n\r\n    onItemClick(event) {\r\n        const option = event.option;\r\n        this.itemClick = true;\r\n\r\n        if (!option.disabled) {\r\n            this.selectItem(event, option);\r\n            this.focusViewChild.nativeElement.focus();\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.hide(event);\r\n        }, 150);\r\n    }\r\n\r\n    selectItem(event, option) {\r\n        if (this.selectedOption != option) {\r\n            this.selectedOption = option;\r\n            this.value = option.value;\r\n            this.filled = true;\r\n\r\n            this.onModelChange(this.value);\r\n            this.updateEditableLabel();\r\n            this.onChange.emit({\r\n                originalEvent: event.originalEvent,\r\n                value: this.value\r\n            });\r\n\r\n            if (this.virtualScroll) {\r\n                setTimeout(() => {\r\n                    this.viewPortOffsetTop = this.viewPort ? this.viewPort.measureScrollOffset() : 0;\r\n                }, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    ngAfterViewChecked() {\r\n        if (this.optionsChanged && this.overlayVisible) {\r\n            this.optionsChanged = false;\r\n\r\n            if (this.virtualScroll) {\r\n                this.updateVirtualScrollSelectedIndex(true);\r\n            }\r\n\r\n            this.zone.runOutsideAngular(() => {\r\n                setTimeout(() => {\r\n                    this.alignOverlay();\r\n                }, 1);\r\n            });\r\n        }\r\n\r\n        if (this.selectedOptionUpdated && this.itemsWrapper) {\r\n            if (this.virtualScroll && this.viewPort) {\r\n                let range = this.viewPort.getRenderedRange();\r\n                this.updateVirtualScrollSelectedIndex(false);\r\n\r\n                if (range.start > this.virtualScrollSelectedIndex || range.end < this.virtualScrollSelectedIndex) {\r\n                    this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex);\r\n                }\r\n            }\r\n\r\n            let selectedItem = DomHandler.findSingle(this.overlay, 'li.ui-state-highlight');\r\n            if (selectedItem) {\r\n                DomHandler.scrollInView(this.itemsWrapper, DomHandler.findSingle(this.overlay, 'li.ui-state-highlight'));\r\n            }\r\n            this.selectedOptionUpdated = false;\r\n        }\r\n    }\r\n\r\n    writeValue(value: any): void {\r\n        if (this.filter) {\r\n            this.resetFilter();\r\n        }\r\n\r\n        this.value = value;\r\n        this.updateSelectedOption(value);\r\n        this.updateEditableLabel();\r\n        this.updateFilledState();\r\n        this.cd.markForCheck();\r\n    }\r\n\r\n    resetFilter(): void {\r\n        this.filterValue = null;\r\n\r\n        if (this.filterViewChild && this.filterViewChild.nativeElement) {\r\n            this.filterViewChild.nativeElement.value = '';\r\n        }\r\n\r\n        this.optionsToDisplay = this.options;\r\n    }\r\n\r\n    updateSelectedOption(val: any): void {\r\n        this.selectedOption = this.findOption(val, this.optionsToDisplay);\r\n        if (this.autoDisplayFirst && !this.placeholder && !this.selectedOption && this.optionsToDisplay && this.optionsToDisplay.length && !this.editable) {\r\n            this.selectedOption = this.optionsToDisplay[0];\r\n        }\r\n        this.selectedOptionUpdated = true;\r\n    }\r\n\r\n    registerOnChange(fn: Function): void {\r\n        this.onModelChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn: Function): void {\r\n        this.onModelTouched = fn;\r\n    }\r\n\r\n    setDisabledState(val: boolean): void {\r\n        this.disabled = val;\r\n    }\r\n\r\n    onMouseclick(event) {\r\n        if (this.disabled||this.readonly) {\r\n            return;\r\n        }\r\n\r\n        this.onClick.emit(event);\r\n\r\n        this.selfClick = true;\r\n        this.clearClick = DomHandler.hasClass(event.target, 'ui-dropdown-clear-icon');\r\n\r\n        if (!this.itemClick && !this.clearClick) {\r\n            this.focusViewChild.nativeElement.focus();\r\n\r\n            if (this.overlayVisible)\r\n                this.hide(event);\r\n            else\r\n                this.show();\r\n\r\n            this.cd.detectChanges();\r\n        }\r\n    }\r\n\r\n    onEditableInputClick(event) {\r\n        this.itemClick = true;\r\n        this.bindDocumentClickListener();\r\n    }\r\n\r\n    onEditableInputFocus(event) {\r\n        this.focused = true;\r\n        this.hide(event);\r\n        this.onFocus.emit(event);\r\n    }\r\n\r\n    onEditableInputChange(event) {\r\n        this.value = event.target.value;\r\n        this.updateSelectedOption(this.value);\r\n        this.onModelChange(this.value);\r\n        this.onChange.emit({\r\n            originalEvent: event,\r\n            value: this.value\r\n        });\r\n    }\r\n\r\n    show() {\r\n        this.overlayVisible = true;\r\n    }\r\n\r\n    onOverlayAnimationStart(event: AnimationEvent) {\r\n        switch (event.toState) {\r\n            case 'visible':\r\n                this.overlay = event.element;\r\n                let itemsWrapperSelector = this.virtualScroll ? '.cdk-virtual-scroll-viewport' : '.ui-dropdown-items-wrapper';\r\n                this.itemsWrapper = DomHandler.findSingle(this.overlay, itemsWrapperSelector);\r\n                this.appendOverlay();\r\n                if (this.autoZIndex) {\r\n                    this.overlay.style.zIndex = String(this.baseZIndex + (++DomHandler.zindex));\r\n                }\r\n                this.alignOverlay();\r\n                this.bindDocumentClickListener();\r\n                this.bindDocumentResizeListener();\r\n\r\n                if (this.options && this.options.length) {\r\n                    if (!this.virtualScroll) {\r\n                        let selectedListItem = DomHandler.findSingle(this.itemsWrapper, '.ui-dropdown-item.ui-state-highlight');\r\n                        if (selectedListItem) {\r\n                            DomHandler.scrollInView(this.itemsWrapper, selectedListItem);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (this.filterViewChild && this.filterViewChild.nativeElement) {\r\n                    this.preventModelTouched = true;\r\n\r\n                    if (this.autofocusFilter) {\r\n                        this.filterViewChild.nativeElement.focus();\r\n                    }\r\n                }\r\n\r\n                this.onShow.emit(event);\r\n            break;\r\n\r\n            case 'void':\r\n                this.onOverlayHide();\r\n            break;\r\n        }\r\n    }\r\n\r\n    scrollToSelectedVirtualScrollElement() {\r\n        if (!this.virtualAutoScrolled) {\r\n            if (this.viewPortOffsetTop) {\r\n                this.viewPort.scrollToOffset(this.viewPortOffsetTop);\r\n            }\r\n            else if (this.virtualScrollSelectedIndex > -1) {\r\n                this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex);\r\n            }\r\n        }\r\n\r\n        this.virtualAutoScrolled = true;\r\n    }\r\n\r\n    updateVirtualScrollSelectedIndex(resetOffset) {\r\n        if (this.selectedOption && this.optionsToDisplay && this.optionsToDisplay.length) {\r\n            if (resetOffset) {\r\n                this.viewPortOffsetTop = 0;\r\n            }\r\n\r\n            this.virtualScrollSelectedIndex = this.findOptionIndex(this.selectedOption.value, this.optionsToDisplay);\r\n        }\r\n    }\r\n\r\n    appendOverlay() {\r\n        if (this.appendTo) {\r\n            if (this.appendTo === 'body')\r\n                document.body.appendChild(this.overlay);\r\n            else\r\n                DomHandler.appendChild(this.overlay, this.appendTo);\r\n\r\n            if (!this.overlay.style.minWidth) {\r\n                this.overlay.style.minWidth = DomHandler.getWidth(this.containerViewChild.nativeElement) + 'px';\r\n            }\r\n        }\r\n    }\r\n\r\n    restoreOverlayAppend() {\r\n        if (this.overlay && this.appendTo) {\r\n            this.el.nativeElement.appendChild(this.overlay);\r\n        }\r\n    }\r\n\r\n    hide(event) {\r\n        this.overlayVisible = false;\r\n\r\n        if (this.filter && this.resetFilterOnHide) {\r\n            this.resetFilter();\r\n        }\r\n\r\n        if (this.virtualScroll) {\r\n            this.virtualAutoScrolled = false;\r\n        }\r\n\r\n        this.cd.markForCheck();\r\n        this.onHide.emit(event);\r\n    }\r\n\r\n    alignOverlay() {\r\n        if (this.overlay) {\r\n            if (this.appendTo)\r\n                DomHandler.absolutePosition(this.overlay, this.containerViewChild.nativeElement);\r\n            else\r\n                DomHandler.relativePosition(this.overlay, this.containerViewChild.nativeElement);\r\n        }\r\n    }\r\n\r\n    onInputFocus(event) {\r\n        this.focused = true;\r\n        this.onFocus.emit(event);\r\n    }\r\n\r\n    onInputBlur(event) {\r\n        this.focused = false;\r\n        this.onBlur.emit(event);\r\n\r\n        if (!this.preventModelTouched) {\r\n            this.onModelTouched();\r\n        }\r\n        this.preventModelTouched = false;\r\n    }\r\n\r\n    findPrevEnabledOption(index) {\r\n        let prevEnabledOption;\r\n\r\n        if (this.optionsToDisplay && this.optionsToDisplay.length) {\r\n            for (let i = (index - 1); 0 <= i; i--) {\r\n                let option = this.optionsToDisplay[i];\r\n                if (option.disabled) {\r\n                    continue;\r\n                }\r\n                else {\r\n                    prevEnabledOption = option;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (!prevEnabledOption) {\r\n                for (let i = this.optionsToDisplay.length - 1; i >= index ; i--) {\r\n                    let option = this.optionsToDisplay[i];\r\n                    if (option.disabled) {\r\n                        continue;\r\n                    }\r\n                    else {\r\n                        prevEnabledOption = option;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return prevEnabledOption;\r\n    }\r\n\r\n    findNextEnabledOption(index) {\r\n        let nextEnabledOption;\r\n\r\n        if (this.optionsToDisplay && this.optionsToDisplay.length) {\r\n            for (let i = (index + 1); index < (this.optionsToDisplay.length - 1); i++) {\r\n                let option = this.optionsToDisplay[i];\r\n                if (option.disabled) {\r\n                    continue;\r\n                }\r\n                else {\r\n                    nextEnabledOption = option;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (!nextEnabledOption) {\r\n                for (let i = 0; i < index; i++) {\r\n                    let option = this.optionsToDisplay[i];\r\n                    if (option.disabled) {\r\n                        continue;\r\n                    }\r\n                    else {\r\n                        nextEnabledOption = option;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return nextEnabledOption;\r\n    }\r\n\r\n    onKeydown(event: KeyboardEvent, search: boolean) {\r\n        if (this.readonly || !this.optionsToDisplay || this.optionsToDisplay.length === null) {\r\n            return;\r\n        }\r\n\r\n        switch(event.which) {\r\n            //down\r\n            case 40:\r\n                if (!this.overlayVisible && event.altKey) {\r\n                    this.show();\r\n                }\r\n                else {\r\n                    if (this.group) {\r\n                        let selectedItemIndex = this.selectedOption ? this.findOptionGroupIndex(this.selectedOption.value, this.optionsToDisplay) : -1;\r\n\r\n                        if (selectedItemIndex !== -1) {\r\n                            let nextItemIndex = selectedItemIndex.itemIndex + 1;\r\n                            if (nextItemIndex < (this.optionsToDisplay[selectedItemIndex.groupIndex].items.length)) {\r\n                                this.selectItem(event, this.optionsToDisplay[selectedItemIndex.groupIndex].items[nextItemIndex]);\r\n                                this.selectedOptionUpdated = true;\r\n                            }\r\n                            else if (this.optionsToDisplay[selectedItemIndex.groupIndex + 1]) {\r\n                                this.selectItem(event, this.optionsToDisplay[selectedItemIndex.groupIndex + 1].items[0]);\r\n                                this.selectedOptionUpdated = true;\r\n                            }\r\n                        }\r\n                        else {\r\n                            this.selectItem(event, this.optionsToDisplay[0].items[0]);\r\n                        }\r\n                    }\r\n                    else {\r\n                        let selectedItemIndex = this.selectedOption ? this.findOptionIndex(this.selectedOption.value, this.optionsToDisplay) : -1;\r\n                        let nextEnabledOption = this.findNextEnabledOption(selectedItemIndex);\r\n                        if (nextEnabledOption) {\r\n                            this.selectItem(event, nextEnabledOption);\r\n                            this.selectedOptionUpdated = true;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                event.preventDefault();\r\n\r\n            break;\r\n\r\n            //up\r\n            case 38:\r\n                if (this.group) {\r\n                    let selectedItemIndex = this.selectedOption ? this.findOptionGroupIndex(this.selectedOption.value, this.optionsToDisplay) : -1;\r\n                    if (selectedItemIndex !== -1) {\r\n                        let prevItemIndex = selectedItemIndex.itemIndex - 1;\r\n                        if (prevItemIndex >= 0) {\r\n                            this.selectItem(event, this.optionsToDisplay[selectedItemIndex.groupIndex].items[prevItemIndex]);\r\n                            this.selectedOptionUpdated = true;\r\n                        }\r\n                        else if (prevItemIndex < 0) {\r\n                            let prevGroup = this.optionsToDisplay[selectedItemIndex.groupIndex - 1];\r\n                            if (prevGroup) {\r\n                                this.selectItem(event, prevGroup.items[prevGroup.items.length - 1]);\r\n                                this.selectedOptionUpdated = true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    let selectedItemIndex = this.selectedOption ? this.findOptionIndex(this.selectedOption.value, this.optionsToDisplay) : -1;\r\n                    let prevEnabledOption = this.findPrevEnabledOption(selectedItemIndex);\r\n                    if (prevEnabledOption) {\r\n                        this.selectItem(event, prevEnabledOption);\r\n                        this.selectedOptionUpdated = true;\r\n                    }\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //space\r\n            case 32:\r\n            case 32:\r\n                if (!this.overlayVisible){\r\n                    this.show();\r\n                    event.preventDefault();\r\n                }\r\n            break;\r\n\r\n            //enter\r\n            case 13:\r\n                if (!this.filter || (this.optionsToDisplay && this.optionsToDisplay.length > 0)) {\r\n                    this.hide(event);\r\n                }\r\n\r\n                event.preventDefault();\r\n            break;\r\n\r\n            //escape and tab\r\n            case 27:\r\n            case 9:\r\n                this.hide(event);\r\n            break;\r\n\r\n            //search item based on keyboard input\r\n            default:\r\n                if (search) {\r\n                    this.search(event);\r\n                }\r\n            break;\r\n        }\r\n    }\r\n\r\n    search(event) {\r\n        if (this.searchTimeout) {\r\n            clearTimeout(this.searchTimeout);\r\n        }\r\n\r\n        const char = event.key;\r\n        this.previousSearchChar = this.currentSearchChar;\r\n        this.currentSearchChar = char;\r\n\r\n        if (this.previousSearchChar === this.currentSearchChar)\r\n            this.searchValue = this.currentSearchChar;\r\n        else\r\n            this.searchValue = this.searchValue ? this.searchValue + char : char;\r\n\r\n        let newOption;\r\n        if (this.group) {\r\n            let searchIndex = this.selectedOption ? this.findOptionGroupIndex(this.selectedOption.value, this.optionsToDisplay) : {groupIndex: 0, itemIndex: 0};\r\n            newOption = this.searchOptionWithinGroup(searchIndex);\r\n        }\r\n        else {\r\n            let searchIndex = this.selectedOption ? this.findOptionIndex(this.selectedOption.value, this.optionsToDisplay) : -1;\r\n            newOption = this.searchOption(++searchIndex);\r\n        }\r\n\r\n        if (newOption && !newOption.disabled) {\r\n            this.selectItem(event, newOption);\r\n            this.selectedOptionUpdated = true;\r\n        }\r\n\r\n        this.searchTimeout = setTimeout(() => {\r\n            this.searchValue = null;\r\n        }, 250);\r\n    }\r\n\r\n    searchOption(index) {\r\n        let option;\r\n\r\n        if (this.searchValue) {\r\n            option = this.searchOptionInRange(index, this.optionsToDisplay.length);\r\n\r\n            if (!option) {\r\n                option = this.searchOptionInRange(0, index);\r\n            }\r\n        }\r\n\r\n        return option;\r\n    }\r\n\r\n    searchOptionInRange(start, end) {\r\n        for (let i = start; i < end; i++) {\r\n            let opt = this.optionsToDisplay[i];\r\n            if (opt.label.toLocaleLowerCase(this.filterLocale).startsWith((this.searchValue as any).toLocaleLowerCase(this.filterLocale)) && !opt.disabled) {\r\n                return opt;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    searchOptionWithinGroup(index) {\r\n        let option;\r\n\r\n        if (this.searchValue) {\r\n            for (let i = index.groupIndex; i < this.optionsToDisplay.length; i++) {\r\n                for (let j = (index.groupIndex === i) ? (index.itemIndex + 1) : 0; j < this.optionsToDisplay[i].items.length; j++) {\r\n                    let opt = this.optionsToDisplay[i].items[j];\r\n                    if (opt.label.toLocaleLowerCase(this.filterLocale).startsWith((this.searchValue as any).toLocaleLowerCase(this.filterLocale)) && !opt.disabled) {\r\n                        return opt;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!option) {\r\n                for (let i = 0; i <= index.groupIndex; i++) {\r\n                    for (let j = 0; j < ((index.groupIndex === i) ? index.itemIndex : this.optionsToDisplay[i].items.length); j++) {\r\n                        let opt = this.optionsToDisplay[i].items[j];\r\n                        if (opt.label.toLocaleLowerCase(this.filterLocale).startsWith((this.searchValue as any).toLocaleLowerCase(this.filterLocale)) && !opt.disabled) {\r\n                            return opt;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    findOptionIndex(val: any, opts: any[]): number {\r\n        let index: number = -1;\r\n        if (opts) {\r\n            for (let i = 0; i < opts.length; i++) {\r\n                if ((val == null && opts[i].value == null) ||Â ObjectUtils.equals(val, opts[i].value, this.dataKey)) {\r\n                    index = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    }\r\n\r\n    findOptionGroupIndex(val: any, opts: any[]): any {\r\n        let groupIndex, itemIndex;\r\n\r\n        if (opts) {\r\n            for (let i = 0; i < opts.length; i++) {\r\n                groupIndex = i;\r\n                itemIndex = this.findOptionIndex(val, opts[i].items);\r\n\r\n                if (itemIndex !== -1) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (itemIndex !== -1) {\r\n            return {groupIndex: groupIndex, itemIndex: itemIndex};\r\n        }\r\n        else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    findOption(val: any, opts: any[], inGroup?: boolean): SelectItem {\r\n        if (this.group && !inGroup) {\r\n            let opt: SelectItem;\r\n            if (opts && opts.length) {\r\n                for (let optgroup of opts) {\r\n                    opt = this.findOption(val, optgroup.items, true);\r\n                    if (opt) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return opt;\r\n        }\r\n        else {\r\n            let index: number = this.findOptionIndex(val, opts);\r\n            return (index != -1) ? opts[index] : null;\r\n        }\r\n    }\r\n\r\n    onFilter(event): void {\r\n        let inputValue = event.target.value;\r\n        if (inputValue && inputValue.length) {\r\n            this.filterValue = inputValue;\r\n            this.activateFilter();\r\n        }\r\n        else {\r\n            this.filterValue = null;\r\n            this.optionsToDisplay = this.options;\r\n        }\r\n\r\n        this.optionsChanged = true;\r\n    }\r\n\r\n    activateFilter() {\r\n        let searchFields: string[] = this.filterBy.split(',');\r\n\r\n        if (this.options && this.options.length) {\r\n            if (this.group) {\r\n                let filteredGroups = [];\r\n                for (let optgroup of this.options) {\r\n                    let filteredSubOptions = FilterUtils.filter(optgroup.items, searchFields, this.filterValue, this.filterMatchMode, this.filterLocale);\r\n                    if (filteredSubOptions && filteredSubOptions.length) {\r\n                        filteredGroups.push({\r\n                            label: optgroup.label,\r\n                            value: optgroup.value,\r\n                            items: filteredSubOptions\r\n                        });\r\n                    }\r\n                }\r\n\r\n                this.optionsToDisplay = filteredGroups;\r\n            }\r\n            else {\r\n                this.optionsToDisplay = FilterUtils.filter(this.options, searchFields, this.filterValue, this.filterMatchMode, this.filterLocale);\r\n            }\r\n\r\n            this.optionsChanged = true;\r\n        }\r\n    }\r\n\r\n    applyFocus(): void {\r\n        if (this.editable)\r\n            DomHandler.findSingle(this.el.nativeElement, '.ui-dropdown-label.ui-inputtext').focus();\r\n        else\r\n            DomHandler.findSingle(this.el.nativeElement, 'input[readonly]').focus();\r\n    }\r\n\r\n    focus(): void {\r\n        this.applyFocus();\r\n    }\r\n\r\n    bindDocumentClickListener() {\r\n        if (!this.documentClickListener) {\r\n            this.documentClickListener = this.renderer.listen('document', 'click', (event) => {\r\n                if (!this.selfClick && !this.itemClick) {\r\n                    this.hide(event);\r\n                    this.unbindDocumentClickListener();\r\n                }\r\n\r\n                this.clearClickState();\r\n                this.cd.markForCheck();\r\n            });\r\n        }\r\n    }\r\n\r\n    clearClickState() {\r\n        this.selfClick = false;\r\n        this.itemClick = false;\r\n    }\r\n\r\n    unbindDocumentClickListener() {\r\n        if (this.documentClickListener) {\r\n            this.documentClickListener();\r\n            this.documentClickListener = null;\r\n        }\r\n    }\r\n\r\n    bindDocumentResizeListener() {\r\n        this.documentResizeListener = this.onWindowResize.bind(this);\r\n        window.addEventListener('resize', this.documentResizeListener);\r\n    }\r\n\r\n    unbindDocumentResizeListener() {\r\n        if (this.documentResizeListener) {\r\n            window.removeEventListener('resize', this.documentResizeListener);\r\n            this.documentResizeListener = null;\r\n        }\r\n    }\r\n\r\n    onWindowResize() {\r\n        if (!DomHandler.isAndroid()) {\r\n            this.hide(event);\r\n        }\r\n    }\r\n\r\n    updateFilledState() {\r\n        this.filled = (this.selectedOption != null);\r\n    }\r\n\r\n    clear(event: Event) {\r\n        this.clearClick = true;\r\n        this.value = null;\r\n        this.onModelChange(this.value);\r\n        this.onChange.emit({\r\n            originalEvent: event,\r\n            value: this.value\r\n        });\r\n        this.updateSelectedOption(this.value);\r\n        this.updateEditableLabel();\r\n        this.updateFilledState();\r\n    }\r\n\r\n    onOverlayHide() {\r\n        this.unbindDocumentClickListener();\r\n        this.unbindDocumentResizeListener();\r\n        this.overlay = null;\r\n        this.itemsWrapper = null;\r\n        this.onModelTouched();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.restoreOverlayAppend();\r\n        this.onOverlayHide();\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CommonModule,SharedModule,ScrollingModule,TooltipModule],\r\n    exports: [Dropdown,SharedModule,ScrollingModule],\r\n    declarations: [Dropdown,DropdownItem]\r\n})\r\nexport class DropdownModule { }\r\n"]}