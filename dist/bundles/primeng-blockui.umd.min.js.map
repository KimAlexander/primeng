{"version":3,"sources":["ng://primeng/blockui/blockui.ts"],"names":["BlockUI","el","this","autoZIndex","baseZIndex","Object","defineProperty","prototype","_blocked","val","mask","nativeElement","block","unblock","ngAfterViewInit","target","getBlockableElement","appendChild","style","position","document","body","zIndex","String","DomHandler","zindex","ngOnDestroy","ElementRef","__decorate","Input","ViewChild","Component","selector","template","changeDetection","ChangeDetectionStrategy","Default","BlockUIModule","NgModule","imports","CommonModule","exports","declarations"],"mappings":"+vBAAAA,EAAA,WA2BI,SAAAA,EAAmBC,GAAAC,KAAAD,GAAAA,EAVVC,KAAAC,YAAsB,EAEtBD,KAAAE,WAAqB,EAsDlC,OA5CaC,OAAAC,eAAIN,EAAAO,UAAA,UAAO,KAAX,WACL,OAAOL,KAAKM,cAGhB,SAAYC,GACRP,KAAKM,SAAWC,EAEZP,KAAKQ,MAAQR,KAAKQ,KAAKC,gBACnBT,KAAKM,SACLN,KAAKU,QAELV,KAAKW,4CAIjBb,EAAAO,UAAAO,gBAAA,WACI,GAAIZ,KAAKa,SAAWb,KAAKa,OAAOC,oBAC5B,KAAM,0DAIdhB,EAAAO,UAAAK,MAAA,WACI,GAAIV,KAAKa,OAAQ,CACbb,KAAKa,OAAOC,sBAAsBC,YAAYf,KAAKQ,KAAKC,eACxD,IAAIO,EAAQhB,KAAKa,OAAOG,OAAO,GAC/BA,EAAMC,SAAW,WACjBjB,KAAKa,OAAOG,MAAQA,OAGpBE,SAASC,KAAKJ,YAAYf,KAAKQ,KAAKC,eAGpCT,KAAKC,aACLD,KAAKQ,KAAKC,cAAcO,MAAMI,OAASC,OAAOrB,KAAKE,cAAgBoB,EAAAA,WAAWC,UAItFzB,EAAAO,UAAAM,QAAA,WACIX,KAAKD,GAAGU,cAAcM,YAAYf,KAAKQ,KAAKC,gBAGhDX,EAAAO,UAAAmB,YAAA,WACIxB,KAAKW,oDA5Ccc,EAAAA,cAZdC,EAAA,CAARC,EAAAA,sCAEQD,EAAA,CAARC,EAAAA,0CAEQD,EAAA,CAARC,EAAAA,0CAEQD,EAAA,CAARC,EAAAA,0CAEkBD,EAAA,CAAlBE,EAAAA,UAAU,oCAMFF,EAAA,CAARC,EAAAA,qCAhBQ7B,EAAO4B,EAAA,CATnBG,EAAAA,UAAU,CACPC,SAAU,YACVC,SAAU,oPAKVC,gBAAiBC,EAAAA,wBAAwBC,WAEhCpC,GAbb,gBAgFA,SAAAqC,KAA6B,OAAhBA,EAAaT,EAAA,CALzBU,EAAAA,SAAS,CACNC,QAAS,CAACC,EAAAA,cACVC,QAAS,CAACzC,GACV0C,aAAc,CAAC1C,MAENqC","sourcesContent":["import {NgModule,Component,Input,AfterViewInit,OnDestroy,ElementRef,ViewChild,ChangeDetectionStrategy} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {DomHandler} from 'primeng/dom';\r\n\r\n@Component({\r\n    selector: 'p-blockUI',\r\n    template: `\r\n        <div #mask [class]=\"styleClass\" [ngClass]=\"{'ui-blockui-document':!target, 'ui-blockui ui-widget-overlay': true}\" [ngStyle]=\"{display: blocked ? 'block' : 'none'}\">\r\n            <ng-content></ng-content>\r\n        </div>\r\n    `,\r\n    changeDetection: ChangeDetectionStrategy.Default\r\n})\r\nexport class BlockUI implements AfterViewInit,OnDestroy {\r\n\r\n    @Input() target: any;\r\n    \r\n    @Input() autoZIndex: boolean = true;\r\n    \r\n    @Input() baseZIndex: number = 0;\r\n    \r\n    @Input() styleClass: string;\r\n    \r\n    @ViewChild('mask') mask: ElementRef;\r\n    \r\n    _blocked: boolean;\r\n        \r\n    constructor(public el: ElementRef) {}\r\n    \r\n    @Input() get blocked(): boolean {\r\n        return this._blocked;\r\n    }\r\n    \r\n    set blocked(val: boolean) {\r\n        this._blocked = val;\r\n        \r\n        if (this.mask && this.mask.nativeElement) {\r\n            if (this._blocked)\r\n                this.block();\r\n            else\r\n                this.unblock();\r\n        }\r\n    }\r\n    \r\n    ngAfterViewInit() {\r\n        if (this.target && !this.target.getBlockableElement) {\r\n            throw 'Target of BlockUI must implement BlockableUI interface';\r\n        }\r\n    }\r\n        \r\n    block() {\r\n        if (this.target) {\r\n            this.target.getBlockableElement().appendChild(this.mask.nativeElement);\r\n            let style = this.target.style||{};\r\n            style.position = 'relative';\r\n            this.target.style = style;\r\n        }\r\n        else {\r\n            document.body.appendChild(this.mask.nativeElement);\r\n        }\r\n        \r\n        if (this.autoZIndex) {\r\n            this.mask.nativeElement.style.zIndex = String(this.baseZIndex + (++DomHandler.zindex));\r\n        }\r\n    }\r\n    \r\n    unblock() {\r\n        this.el.nativeElement.appendChild(this.mask.nativeElement);\r\n    }\r\n    \r\n    ngOnDestroy() {\r\n        this.unblock();\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    exports: [BlockUI],\r\n    declarations: [BlockUI]\r\n})\r\nexport class BlockUIModule { }"]}